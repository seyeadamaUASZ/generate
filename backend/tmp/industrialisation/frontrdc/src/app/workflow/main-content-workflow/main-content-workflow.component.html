
<mat-tab-group>
  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon class="mymargin" color="primary">compare_arrows</mat-icon>
      {{'workflow.liste' | translate}}
    </ng-template>
     
      
      <mat-card class="">
          <mat-card-header class="card-header">
              <span class="header">{{'workflow.liste' | translate}}</span>
          </mat-card-header>
          <button mat-mini-fab color="primary" class="add-contact" (click)="openDialogAddWorkflow()"
            matTooltip="{{'workflow.add' | translate}}">
            <mat-icon>add</mat-icon>
          </button>
    
          <div class="mat-elevation-z8">
              <table mat-table class=" mat-elevation-z8" [dataSource]="dataSource" matSort>
                <ng-container matColumnDef="secteur">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'workflow.secteur' | translate}}</th>
                  <td mat-cell *matCellDef="let element"> {{element.wkfSecteur}}</td>
              </ng-container>
                  <!-- Name Column -->
                  <ng-container matColumnDef="name">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{'workflow.nom' | translate}} </th>
                      <td mat-cell *matCellDef="let element"> {{element.name}} </td>
                  </ng-container>
                  <!-- Weight Column -->  
                <ng-container matColumnDef="description">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'workflow.description' | translate}} </th>
                  <td mat-cell *matCellDef="let element"> {{element.description}}</td>
              </ng-container>
              <ng-container matColumnDef="wkfEtat">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'workflow.etat' | translate}} </th>
                <td mat-cell *matCellDef="let element" >
                  <span *ngIf="element.wkfEtat == 1;else etat2" style="background-color: red; color: white;"> 
                    {{'workflow.etat-modelisation' | translate}}  </span>
                  
                  <span #etat2 *ngIf="element.wkfEtat == 2;" style="background-color: yellow;"> 
                      <p style="display: none;">{{element.groupid}}</p> 
                      <p style="display: none;">{{element.version}}</p>
                    <p style="display: none;">{{element.wkfConteneur}}</p> 
                  <p style="display: none;">{{element.wkfProcess_id}}</p>
                      {{'workflow.Workflow deployer' | translate}}  </span>
                  <span #etat3 *ngIf="element.wkfEtat == 3;" style="background-color: green; color: white;">{{'workflow.encours' | translate}}</span>
                  
                    </td>
            </ng-container>
            
            <ng-container matColumnDef="Gerer">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'Gerer' | translate}} </th>
              <td mat-cell *matCellDef="let element">
              
                 <button *ngIf="element.wkfEtat == 1;else second" mat-raised-button color="warn" type="button" (click)=" modeliserWorkflow(element)" >
                  {{'workflow.terminer' | translate}} 
                  
              </button>
     
              <button #second *ngIf="element.wkfEtat == 2;else " mat-raised-button color="primary" type="button" (click)=" executeProject(element)">
               {{'workflow.Demarer' | translate}} 
    
              </button>
             
            </td>
          </ng-container>
    
    
                  <ng-container matColumnDef="action">
                      <th mat-header-cell *matHeaderCellDef><span style="margin-left: 13%;">
                              {{'register.action' | translate}}</span> </th>
                      <td mat-cell *matCellDef="let element" class="fab">
                          <mat-icon matTooltip="Details" color="primary" (click)="openDialogView(element)">
                              visibility
                          </mat-icon>
                          <mat-icon matTooltip="{{'Action.edit' | translate}}" color="secondary" (click)="openDialogEdit(element)" >edit</mat-icon> 
                          <mat-icon color="warn" matTooltip="Delete" (click)=" openDialogDeleteWorkflow(element)">delete
                          </mat-icon>
    
                      </td>
                  </ng-container>
    
                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              </table>
    
              <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
          </div>
    
    
      </mat-card>
    


</mat-tab>

<!--<mat-tab>
  <ng-template mat-tab-label>
    <mat-icon class="mymargin" color="primary">compare_arrows</mat-icon>
    {{'workflow.execution' | translate}}
  </ng-template>
   
  <div fxLayout="container">
    <mat-card  class="col-md-6 col-lg-6"> 
        <mat-list>
            <div mat-subheader>{{'workflow.menuexec' | translate}}</div>
            <mat-list-item *ngFor="let desc  of workflow">
              <mat-icon mat-list-icon>folder</mat-icon>
              <div mat-line> <a [routerLink]="['execution',desc.wkfConteneur]" style="color: green;">{{desc.description}}</a> </div> 
            </mat-list-item> 
          </mat-list>
    </mat-card>
    
</div>

</mat-tab>-->

<mat-tab>
<ng-template mat-tab-label>
  <mat-icon class="mymargin" color="primary">compare_arrows</mat-icon>
 {{'workflow.modeliser' | translate}}
</ng-template>
 
<div fxLayout="container">
  <mat-card  class="col-md-12 col-lg-12"> 
    <iframe id="inlineFrameExample"
    title="Inline Frame Example"
    width="100%"
    height="800"

    
    src="http://10.3.80.98:8080/business-central/kie-wb.jsp?standalone&perspective=LibraryPerspective&header=UberfireBreadcrumbsContainer">

</iframe>
  </mat-card>
  
</div>

</mat-tab>


  </mat-tab-group>




 