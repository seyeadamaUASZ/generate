<div class="row container-fluid">
  <div class="row container-fluid mb-4">
    <span>{{'blockchain.verifyhash' | translate}}</span>
  </div>
  <div id="particles-js"></div>
  <div *ngIf="hashprogress" class="mt-3 container-fluid">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>
  <input  type="file" placeholder="SÃ©lectionnez un ou des fichiers" #file style="display: none;"  (change)="onFilesAdded()" multiple />
  <div *ngIf="!result" class="row container-fluid mt-3 mb-4 " >

     <div class="container-fluid"  (click)="addFiles()">
       <div class="file_upload" style="margin: auto;">
         <div class="center">
           <mat-icon>get_app</mat-icon>
         </div>
         <div class="container-fluid file_titre" >
           {{'blockchain.fileblockchain' | translate}}
         </div>
         
         <div class="container-fluid file_name pl-4 mb-2" style="text-align: left;">
           
           {{'blockchain.fileUploadCondition' | translate }} <br>
          {{'blockchain.fileExtension'| translate}} [pdf] <br>
           {{'blockchain.fileSize' | translate}} &#60;[3MB]
         </div>
       </div>
     </div>
  </div>
  <div class="row container-fluid">
    <div *ngIf="filesHash.size>0" class="container-fluid">
      
        <table class="container-fluid mytable">
          <thead class="container-fluid">
            <th>{{'blockchain.filename' | translate}}</th>
            <th *ngIf="result">{{'blockchain.searchStatus' | translate}}</th>
            <th *ngIf="result">{{'blockchain.searchBlock' | translate}}</th>
            <th *ngIf="result">{{'blockchain.searchUsername' | translate}}</th>

          </thead>
          <tbody>
            <tr class="container-fluid" *ngFor="let item of filesHash" >
              <td class="container-fluid">{{item?.file?.name}}</td>
              <td *ngIf="result" >
                <div class="container-fluid center">
                  <span *ngIf="item?.result?.block==0 || item?.result?.block == -1"><mat-icon color="warn">highlight_off</mat-icon></span>
                  <span *ngIf="item?.result?.block>0"><mat-icon color="primary">check_circle_outline</mat-icon></span>
                
                </div>
              </td>
              <td  *ngIf="item?.result?.block>0">
                <div class="container-fluid center">
                  <div class="container-fluid" >
                    <mat-icon>grid_view</mat-icon>
                    <!-- <img style="width: 26px; height: 26px;" src="../../../../assets/images/blockchain/block.png" alt=""> -->
                  </div>
                  <div class="container-fluid" >
                    {{item?.result?.block}}
                  </div>
                </div>                  
              </td>
              <td  *ngIf="item?.result?.block>0">
                <div class="container-fluid center">
                  <div>
                    <mat-icon>perm_identity</mat-icon>
                  </div>
                  <div>
                    {{item?.result?.username}}
                  </div>
                </div>
              </td>
              <td  *ngIf="result && item?.result?.block<=0" colspan="2">
                <div class="container-fluid center">
                  {{'blockchain.fileNotFoundOnBlockchain' | translate}}
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      
    </div>
  </div>
  
  <!-- <div *ngIf="hash" class="row container-fluid mt-3">
    <div >{{'blockchain.hashblockchain' | translate}}</div>
    <code class="mt-1 container-fluid">{{hash}}</code>
  </div> -->
  <!-- <div class="row container-fluid mt-4 mb-4 card shadow-sm" *ngIf="result && result?.block!=0 && result?.block!=-1" >
    <div class="row pt-3 pb-3" style="margin: auto;">
      <mat-icon  aria-hidden="false" color="primvary" aria-label="Example home icon">check</mat-icon>

      <div class="col-sm-12 mb-4 container-fluid">
        <div >{{'blockchain.resultsearch' | translate}}</div>

      </div>
        <div class="col-sm-4">
          <div class="container-fluid badge badge-light card">
            {{'blockchain.time' | translate}}
          </div>
          <div class="container-fluid center mt-1">
            {{result?.time | date: 'dd/MM/yyyy'}}
          </div>
        </div>
        <div class="col-sm-4">
          <div class="container-fluid badge badge-light card">
            {{'blockchain.block' | translate}}
          </div>
          <div class="container-fluid center mt-1">
            {{result?.block}}

          </div>
        </div>
        <div class="col-sm-4">
          <div class="container-fluid badge badge-light card">
            {{'blockchain.filename' | translate}}

          </div>
          <div class="container-fluid center mt-1">
            {{result?.nom }}
          </div>
        </div>
          
    </div>
  </div>
  <div class="row container-fluid mt-4 mb-4 card shadow-sm" *ngIf="result && (result?.block==0 || result?.block==-1)">
    <div class="row col-sm-12 container-fluid pl-10 pt-4 pb-4">
        <mat-icon style="position: absolute;padding-top:-3%;padding-left:90%;"  aria-hidden="false" color="warn" aria-label="Example home icon">error</mat-icon>

        <span >{{'blockchain.filenontrouve' | translate}}</span>
      
    </div>
  </div> -->
  <div  class="row container-fluid mt-2">
      <button class="mr-2" *ngIf="filesHash.size>0 && !result" mat-raised-button color="primary" type="submit" (click)="onSubmit()">{{'blockchainbtn.verifier' | translate}}</button>
      <button  mat-raised-button color="warn" type="button" (click)="closeDialog()">{{'blockchainbtn.fermer' | translate}}</button>
  </div>
</div>


